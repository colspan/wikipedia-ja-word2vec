#!/usr/bin/env python
# -*- coding: utf-8 -*-
from gensim.models import word2vec


communes = [
u"七飯町",
u"三笠市",
u"上ノ国町",
u"上士幌町",
u"上富良野町",
u"上川町",
u"上砂川町",
u"下川町",
u"中富良野町",
u"中川町",
u"中札内村",
u"中標津町",
u"中頓別町",
u"乙部町",
u"京極町",
u"仁木町",
u"今金町",
u"伊達市",
u"佐呂間町",
u"余市町",
u"倶知安町",
u"八雲町",
u"共和町",
u"函館市",
u"初山別村",
u"別海町",
u"利尻富士町",
u"利尻町",
u"剣淵町",
u"北広島市",
u"北斗市",
u"北竜町",
u"北見市",
u"千歳市",
u"南富良野町",
u"南幌町",
u"占冠村",
u"厚岸町",
u"厚沢部町",
u"厚真町",
u"古平町",
u"名寄市",
u"和寒町",
u"喜茂別町",
u"増毛町",
u"士別市",
u"士幌町",
u"壮瞥町",
u"夕張市",
u"大樹町",
u"大空町",
u"天塩町",
u"奈井江町",
u"奥尻町",
u"妹背牛町",
u"安平町",
u"室蘭市",
u"富良野市",
u"寿都町",
u"小平町",
u"小樽市",
u"小清水町",
u"岩内町",
u"岩見沢市",
u"島牧村",
u"帯広市",
u"幌加内町",
u"幌延町",
u"幕別町",
u"平取町",
u"広尾町",
u"弟子屈町",
u"当別町",
u"当麻町",
u"恵庭市",
u"愛別町",
u"斜里町",
u"新冠町",
u"新十津川町",
u"新得町",
u"新ひだか町",
u"新篠津村",
u"日高町",
u"旭川市",
u"更別村",
u"月形町",
u"木古内町",
u"本別町",
u"札幌市",
u"東川町",
u"東神楽町",
u"松前町",
u"枝幸町",
u"栗山町",
u"根室市",
u"森町",
u"様似町",
u"標津町",
u"標茶町",
u"歌志内市",
u"比布町",
u"江別市",
u"江差町",
u"池田町",
u"沼田町",
u"泊村",
u"洞爺湖町",
u"津別町",
u"浜中町",
u"浜頓別町",
u"浦幌町",
u"浦河町",
u"浦臼町",
u"深川市",
u"清水町",
u"清里町",
u"湧別町",
u"滝上町",
u"滝川市",
u"猿払村",
u"由仁町",
u"えりも町",
u"せたな町",
u"むかわ町",
u"ニセコ町",
u"留寿都村",
u"留萌市",
u"登別市",
u"白糠町",
u"白老町",
u"真狩村",
u"知内町",
u"石狩市",
u"砂川市",
u"礼文町",
u"神恵内村",
u"福島町",
u"秩父別町",
u"稚内市",
u"積丹町",
u"紋別市",
u"網走市",
u"置戸町",
u"羅臼町",
u"美唄市",
u"美幌町",
u"美深町",
u"美瑛町",
u"羽幌町",
u"興部町",
u"芦別市",
u"芽室町",
u"苫前町",
u"苫小牧市",
u"蘭越町",
u"西興部村",
u"訓子府町",
u"豊富町",
u"豊浦町",
u"豊頃町",
u"赤井川村",
u"赤平市",
u"足寄町",
u"遠別町",
u"遠軽町",
u"釧路市",
u"釧路町",
u"長万部町",
u"長沼町",
u"陸別町",
u"雄武町",
u"雨竜町",
u"音威子府村",
u"音更町",
u"鶴居村",
u"鷹栖町",
u"鹿追町",
u"鹿部町",
u"黒松内町"
]

model = word2vec.Word2Vec.load("var/wikipedia.model")
out_filename = './var/similarities.csv'

with open(out_filename, "w") as out_file:
    print >> out_file, u",".join([u"類似度"]+communes).encode('utf-8')

    for c1 in communes:
        row = [c1.encode('utf-8')]
        for c2 in communes:
            try:
                sim = model.similarity(c1.replace(u'町', u'').replace(u'村', u'').replace(u'市', u''), c2.replace(u'町', u'').replace(u'村', u'').replace(u'市', u''))
            except:
                sim = 0
            row.append(sim)
        print >> out_file, ",".join(map(str, row))

